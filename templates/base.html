<!-- Blocks: -->
<!-- tab_title-->
<!-- pageheader_title -->
<!-- page_description -->
<!-- content -->
{% load static %}
<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="description" content="Creative - Bootstrap 3 Responsive Admin Template">
      <meta name="author" content="GeeksLabs">
      <meta name="keyword" content="Creative, Dashboard, Admin, Template, Theme, Bootstrap, Responsive, Retina, Minimal">
      <link rel="shortcut icon" href="{% static 'img/favicon.png' %}">
      <title>
         {% block tab_title %}
         Tab Title
         {% endblock %}
      </title>
      <!-- Bootstrap CSS -->
      <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">
      <!-- bootstrap theme -->
      <link href="{% static 'css/bootstrap-theme.css' %}" rel="stylesheet">
      <!--external css-->
      <!-- font icon -->
      <link href="{% static 'css/elegant-icons-style.css' %}" rel="stylesheet" />
      <link href="{% static 'css/font-awesome.min.css' %}" rel="stylesheet" />
      <!-- Custom styles -->
      <link href="{% static 'css/style.css' %}" rel="stylesheet">
      <link href="{% static 'css/style-responsive.css' %}" rel="stylesheet" />
      <!-- HTML5 shim and Respond.js IE8 support of HTML5 -->
      <!--[if lt IE 9]>
      <script src="js/html5shiv.js"></script>
      <script src="js/respond.min.js"></script>
      <script src="js/lte-ie7.js"></script>
      <![endif]-->
      <!-- =======================================================
         Theme Name: NiceAdmin
         Theme URL: https://bootstrapmade.com/nice-admin-bootstrap-admin-html-template/
         Author: BootstrapMade
         Author URL: https://bootstrapmade.com
         ======================================================= -->
   </head>
   <body>
      <!-- container section start -->
      <section id="container" class="">
         <!--header start-->
         <header class="header dark-bg">
            <div class="toggle-nav">
               <div class="icon-reorder tooltips" data-original-title="Toggle Navigation" data-placement="bottom"><i class="icon_menu"></i></div>
            </div>
            <!--logo start-->
            <a href="{% url 'lockable_resources_page' %}" class="logo">Resource <span class="lite">Locker</span></a>
            <!--logo end-->
            <div class="top-nav notification-row">
               <ul class="nav pull-right top-menu">
                  {% if user.is_authenticated %}
                  <li class="dropdown">
                     <a data-toggle="dropdown" class="dropdown-toggle" href="">
                     <span>
                     <i class="fa fa-arrow-down"></i>
                     </span>
                     <span class="username" style="margin-left: 10px;color: white; font-weight: bold; font-size: 18px">
                     Welcome, {{ user.username }}
                     </span>
                     </a>
                     <ul class="dropdown-menu extended logout">
                        <li>
                           <a href="{% url 'logout_page' %}"><i class="icon_key_alt"></i>Log Out</a>
                        </li>
                        <li>
                           <a onclick="copyToClipboard()" href=""><i class="fa fa-file"></i> Copy API Token</a>
                        </li>
                     </ul>
                  </li>
                  {% else %}
                  <li>
                     <a href="{% url 'login_page' %}">
                     <i style="margin-left: 10px" class="icon_key_alt"></i>
                     Login
                     </a>
                  </li>
                  {% endif %}
               </ul>
            </div>
         </header>
         <!--header end-->
         <!--sidebar start-->
         {% include 'includes/sidebar.html' %}
         <!--sidebar end-->
         <!--main content start-->
         <section id="main-content">
            <section class="wrapper">
               <!-- Django Messages Area start -->
               {% if messages %}
                    {% for message in messages %}
                        <div class="alert alert-{{ message.tags }} fade in">
                            <button data-dismiss="alert" class="ml-2 mb-1 close" type="button">
                                <span aria-hidden="true">&times;</span>
                            </button>
                            <strong>{{ message }}</strong>
                        </div>
                    {% endfor %}
               {% endif %}
               <!-- Django Messages Area end -->
               <!-- Display queued requests if there are any -->
               {% if pending_requests %}
                    {% url 'pending_requests_page' as pending_request_url %}
                    {% if request.path != pending_request_url %}
                        <div class="alert alert-danger fade in">
                            <button data-dismiss="alert" class="ml-2 mb-1 close" type="button">
                                <span aria-hidden="true"></span>
                            </button>
                            <strong>
                                There are {{ pending_requests_amount }} Lock Requests that are pending in queue.
                            </strong>
                            <a href="{% url 'pending_requests_page' %}"><strong>Visit Pending Requests page</strong></a>
                        </div>
                    {% endif %}
               {% endif %}
               <!-- End display queued requests if there are any -->
               <div class="row">
                  <div class="col-lg-12">
                     <h3 class="page-header"><i class="fa fa fa-bars"></i>
                        {% block pageheader_title %}
                            Page Header Title
                        {% endblock %}
                     </h3>
                     <ol class="breadcrumb">
                        {% block page_description %}
                            Page Description
                        {% endblock %}
                     </ol>
                  </div>
               </div>
               <!-- page start-->
               {% block content %}
                    Content
               {% endblock %}
               <!-- page end-->
            </section>
         </section>
         <!--main content end-->
         <!--DO NOT DELETE THIS DIV TAG FOR CREDITS AND RESPECT THE HARD WORK FROM BOOTSTRAP MADE -->
         <div class="text-right">
            <div class="credits">
               <!--
                  All the links in the footer should remain intact.
                  You can delete the links only if you purchased the pro version.
                  Licensing information: https://bootstrapmade.com/license/
                  Purchase the pro version form: https://bootstrapmade.com/buy/?theme=NiceAdmin
                  -->
               Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a>
            </div>
         </div>
         <!--DO NOT DELETE THIS DIV TAG FOR CREDITS AND RESPECT THE HARD WORK FROM BOOTSTRAP MADE -->
      </section>
      <!-- container section end -->
      <!-- javascripts -->
      <script src="{% static 'js/jquery.js' %}"></script>
      <script src="{% static 'js/bootstrap.min.js' %}"></script>
      <!-- nice scroll -->
      <script src="{% static 'js/jquery.scrollTo.min.js' %}"></script>
      <script src="{% static 'js/jquery.nicescroll.js' %}" type="text/javascript"></script>
      <!--custome script for all page-->
      <script src="{% static 'js/scripts.js' %}"></script>
      <script>
         function copyToClipboard() {
             // The safer approach to copy any text to clipboard without making it visible in the Inspect
             // SO link: https://stackoverflow.com/questions/400212/how-do-i-copy-to-the-clipboard-in-javascript
             var input = document.createElement('textarea');
             {% if user.auth_token %}
                 input.innerHTML = "{{ user.auth_token }}";
                 document.body.appendChild(input);
                 input.select();
                 document.execCommand('copy');
                 alert("API Token copied to clipboard!");
                 document.body.removeChild(input);
             {% else %}
                 alert("User does not own an API token, please contact to System.");
             {% endif %}
         }
      </script>
   </body>
</html>